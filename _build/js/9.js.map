{"version":3,"sources":["webpack:///./_src/js/core/module.ts","webpack:///./_src/modules/free-quote/free-quote.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["\n// @ts-ignore\nimport { getCachableDomElements } from 'core/bootstrap';\n\n// @ts-ignore\nimport { getInstanceOfjQuery } from 'helpers/utils';\n\n// @ts-ignore\nimport { debounce } from 'lodash';\n\n/**\n * Abstract Module class.\n * All modules inherit from this class.\n */\nabstract class Module\n{\n    protected dom : object = {};\n\n    protected options : object = {};\n\n    protected el : JQuery;\n\n    protected readonly VARS =\n    {\n        SCROLL_THRESHOLD: 15,\n        SCROLL_THRESHOLD_REACHED: false,\n        TOGGLE_SCROLL_CSS_CLASS: true,\n        IGNORE_CACHABLE_DOM_ELEMENTS: false,\n        WAIT_DOCUMENT_KEYUP: 25,\n        WAIT_WINDOW_RESIZE: 250\n    };\n\n   /**\n     * Module constructor\n     *\n     * @param {string|JQuery} el Main DOM element in any valid jQuery form i.e. `#foo` or `.bar` or `[data-baz]` or an actual jQuery object.\n     * @param {Object} [opts={}] Module options.\n    */\n    protected constructor(...args : Array<any>)\n    {\n        this.el = getInstanceOfjQuery(args[0]);\n\n        if (typeof this.el === 'undefined' || !this.el.length)\n        {\n            throw new ReferenceError('You must provide an valid element as a string or jQuery type.');\n        }\n\n\n        this.preInit();\n        this.updateOptions(args[1]);\n        this.init();\n        this.updateDom();\n        this.preRender();\n        this.bindGlobalEventListeners();\n        this.bindEventListeners();\n        this.render();\n\n\n        if (__DEV__ || __QA__)\n        {\n            const self = this;\n            const proto = Object.getPrototypeOf(self);\n\n            Object.assign(self,\n                { 'this': proto },\n                { 'Abstract Methods': Object.getPrototypeOf(proto) });\n\n            console.log(self);\n        }\n    }\n\n    //#region Abstract Methods\n\n    /**\n     * @abstract\n     */\n    protected preInit() : void {};\n\n    /**\n     * @abstract\n     */\n    protected init() : void {};\n\n    /**\n     * @abstract\n     */\n    protected preRender() : void {};\n\n    /**\n     * @abstract\n     */\n    protected render() : void {};\n\n    /**\n     * @abstract\n     */\n    protected bindEventListeners() : void {};\n\n    /**\n     * @abstract\n     */\n    protected onDocumentKeyup(e : JQuery.Event<Document, null>) : void {}\n\n    /**\n     * @abstract\n     */\n    protected onWindowLoad(e : JQuery.Event<Window, null>) : void {}\n\n    /**\n     * @abstract\n     */\n    protected onWindowScroll(e : JQuery.Event<Window, null>) : void {}\n\n    /**\n     * @abstract\n     */\n    protected onWindowResize(e : JQuery.Event<Window, null>) : void {}\n\n    //#endregion\n\n    protected bindGlobalEventListeners() : void\n    {\n        this.dom.document.on('keyup', debounce((e : JQuery.Event<Document, null>) =>\n        {\n            this.onDocumentKeyup(e);\n        },\n        this.VARS.WAIT_DOCUMENT_KEYUP));\n\n\n        this.dom.window.on('load', (e : JQuery.Event<Window, null>) =>\n        {\n            this.dom.window.trigger('scroll');\n\n            this.onWindowLoad(e);\n        });\n\n\n        this.dom.window.on('scroll', (e : JQuery.Event<Window, null>) =>\n        {\n            const moduleScroll = this.options['scroll'] || this.el.data('scroll') || this.VARS.SCROLL_THRESHOLD;\n\n            this.VARS.SCROLL_THRESHOLD_REACHED = (this.dom.window.scrollTop() >= moduleScroll);\n\n            if (this.VARS.TOGGLE_SCROLL_CSS_CLASS)\n            {\n                this.el.toggleClass('scroll', this.VARS.SCROLL_THRESHOLD_REACHED);\n            }\n\n            this.onWindowScroll(e);\n        });\n\n\n        this.dom.window.on('resize', debounce((e : JQuery.Event<Window, null>) =>\n        {\n            this.onWindowResize(e);\n        },\n        this.VARS.WAIT_WINDOW_RESIZE));\n    }\n\n    protected updateOptions(opts : object) : void\n    {\n        Object.assign(this.options, opts);\n    }\n\n    protected updateDom() : void\n    {\n        Object.assign(this.dom,\n            (!this.VARS.IGNORE_CACHABLE_DOM_ELEMENTS) ? getCachableDomElements(this.el) : {},\n            {\n                window: $(window),\n                document: $(document),\n                base: $.when($('.base')),\n                modal: $.when($('.modal')),\n                form: $.when($('.form'))\n            });\n    }\n}\n\nexport default Module;\n","\n// @ts-ignore\nimport Module from 'core/module';\n\n// @ts-ignore\nimport { emailRegexPattern, phoneRegexPattern } from 'helpers/regex';\n\n// @ts-ignore\nimport { TweenMax, Power4 } from 'gsap';\n\n// @ts-ignore\nimport 'selectric';\n\nclass Quote extends Module\n{\n    constructor(el : string | JQuery, opts : object)\n    {\n        super(el, opts);\n    }\n\n    bindEventListeners()\n    {\n        this.dom.ctaBtn.on('click touchend', (e) => this.onFormSubmit(e));\n    }\n\n    render()\n    {\n        this.el.find('select').each((idx, sel) =>\n        {\n            sel = $(sel);\n\n            sel.val(this.options.params);\n            sel.selectric();\n        });\n    }\n\n    onFormSubmit(e: EventTarget) : void\n    {\n        let validated = true;\n\n        const fields =\n        [\n            { val: $.trim(this.dom.formName.val()), pattern: null },\n            { val: $.trim(this.dom.formPhone.val()), pattern: phoneRegexPattern },\n            { val: $.trim(this.dom.formEmail.val()), pattern: emailRegexPattern },\n            { val: $.trim(this.dom.formCity.val()), pattern: null },\n            { val: $.trim(this.dom.formJob.val()), pattern: null },\n            { val: $.trim(this.dom.formDate.val()), pattern: null },\n            { val: $.trim(this.dom.formBudget.val()), pattern: null },\n            { val: $.trim(this.dom.formProperty.val()), pattern: null },\n            { val: $.trim(this.dom.formFound.val()), pattern: null },\n            { val: $.trim(this.dom.formMsg.val()), pattern: null }\n        ]\n        .forEach((item, idx) =>\n        {\n            validated = !(item.val === '') && !(item.pattern !== null && !item.pattern.test(item.val));\n\n            TweenMax.to(this.dom.required.eq(idx).toggleClass('show', !validated), 0.75, { autoAlpha: !validated, height: (!validated) ? 35 : 0, ease: Power4.easeOut });\n        });\n\n        if (validated)\n        {\n            // show loading\n            this.onPostFreeQuoteData(fields);\n        }\n\n        e.preventDefault();\n    }\n\n    postFreeQuoteData(fields) : JQuery.jqXHR<any>\n    {\n        // $.fn.serialize(fields)\n        return $.post(`${process.env.APP_SHORT_NAME}/PostForm.ashx`);\n    }\n\n    onPostFreeQuoteData(fields) : void\n    {\n        this.postFreeQuoteData(fields)\n            .then(() => Promise.resolve())\n            .catch(err =>\n            {\n                console.error('There was an issue posting the form data =>', err);\n\n                Promise.reject();\n            });\n    }\n}\n\nexport default Quote;\n"],"sourceRoot":""}